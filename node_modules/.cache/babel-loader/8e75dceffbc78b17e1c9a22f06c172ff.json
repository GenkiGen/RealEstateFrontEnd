{"ast":null,"code":"import _objectSpread from \"/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios';\nimport auth from '../sevices/authService';\nimport history from '../router/history';\n\nfunction login(username, password) {\n  return new Promise(function (resolve, reject) {\n    axios.post('http://localhost:8080/authenticate', {\n      name: username,\n      password: password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (resp) {\n      return resp.data;\n    }).then(function (data) {\n      auth.login(data.data.accessToken);\n      return data;\n    }).then(function (data) {\n      return resolve(data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction register(username, password) {\n  return new Promise(function (resolve, reject) {\n    axios.post('http://localhost:8080/users', {\n      name: username,\n      password: password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (resp) {\n      return resp.data;\n    }).then(function (data) {\n      auth.login(data.data.accessToken);\n      return data;\n    }).then(function (data) {\n      return resolve(data);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n} //Advertisement\n\n\nfunction getAllAdvertisements() {\n  return new Promise(function (resolve, reject) {\n    axios.get('http://localhost:8080/advertisements').then(function (resp) {\n      return resp.data;\n    }).then(function (data) {\n      return resolve(data);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n}\n\nfunction getOwnAdvertisement(page) {\n  return new Promise(function (resolve, reject) {\n    axios.get('http://localhost:8080/advertisements/me', {\n      query: {\n        p: page\n      },\n      headers: auth.getAuthHeader()\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n}\n\nfunction getOneAdvertisement(id) {\n  return new Promise(function (resolve, reject) {\n    axios.get(\"http://localhost:8080/advertisements/\".concat(id), {\n      headers: auth.getAuthHeader()\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction deleteAd(_id) {\n  return new Promise(function (resolve, reject) {\n    axios.delete('http://localhost:8080/advertisements', {\n      headers: auth.getAuthHeader(),\n      data: {\n        _id: _id\n      }\n    }).then(function (data) {\n      return resolve(data.message);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n}\n\nfunction addAdvertisement(advertisement) {\n  return new Promise(function (resolve, reject) {\n    axios.post('http://localhost:8080/advertisements', advertisement, {\n      headers: _objectSpread({\n        'Content-Type': 'application/json'\n      }, auth.getAuthHeader())\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n}\n\nfunction updateAdvertisement(advertisement) {\n  return new Promise(function (resolve, reject) {\n    axios.put('http://localhost:8080/advertisements', advertisement, {\n      headers: _objectSpread({\n        'Content-Type': 'application/json'\n      }, auth.getAuthHeader())\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n} //User\n\n\nfunction getUserInfo() {\n  return new Promise(function (resolve, reject) {\n    axios.get('http://localhost:8080/users/me', {\n      headers: auth.getAuthHeader()\n    }).then(function (resp) {\n      resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction logout() {\n  auth.logout();\n  history.push('/login');\n} //Projects\n\n\nfunction addProject(project) {\n  return new Promise(function (resolve, reject) {\n    axios.post('http://localhost:8080/projects', project, {\n      headers: _objectSpread({\n        \"Content-Type\": \"application/json\"\n      }, auth.getAuthHeader())\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction fetchOwnProjects() {\n  return new Promise(function (resolve, reject) {\n    axios.get(\"http://localhost:8080/projects/me\", {\n      headers: auth.getAuthHeader()\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction addAdToProject(projectId, adId) {\n  return new Promise(function (resolve, reject) {\n    axios.post(\"http://localhost:8080/projects/\".concat(projectId, \"/addAdvertisement\"), {\n      adId: adId\n    }, {\n      headers: _objectSpread({\n        'Content-Type': 'application/json'\n      }, auth.getAuthHeader())\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction removeAdFromProject(projectId, adId) {\n  return new Promise(function (resolve, reject) {\n    axios.delete(\"http://localhost:8080/projects/\".concat(projectId, \"/removeAdvertisement\"), {\n      headers: _objectSpread({\n        'Content-Type': 'application/json'\n      }, auth.getAuthHeader()),\n      data: {\n        adId: adId\n      }\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction handleResponse(error, reject) {\n  var status = error.response.status;\n\n  if (status === 302) {\n    logout();\n  } else {\n    reject(error);\n  }\n}\n\nexport default {\n  login: login,\n  logout: logout,\n  register: register,\n  getAllAdvertisements: getAllAdvertisements,\n  getOwnAdvertisement: getOwnAdvertisement,\n  getOneAdvertisement: getOneAdvertisement,\n  deleteAd: deleteAd,\n  addAdvertisement: addAdvertisement,\n  removeAdFromProject: removeAdFromProject,\n  updateAdvertisement: updateAdvertisement,\n  addAdToProject: addAdToProject,\n  fetchOwnProjects: fetchOwnProjects,\n  addProject: addProject,\n  getUserInfo: getUserInfo\n};","map":{"version":3,"sources":["/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/src/sevices/dataService.js"],"names":["axios","auth","history","login","username","password","Promise","resolve","reject","post","name","headers","then","resp","data","accessToken","catch","error","handleResponse","register","getAllAdvertisements","get","getOwnAdvertisement","page","query","p","getAuthHeader","getOneAdvertisement","id","deleteAd","_id","delete","message","addAdvertisement","advertisement","updateAdvertisement","put","getUserInfo","logout","push","addProject","project","fetchOwnProjects","addAdToProject","projectId","adId","removeAdFromProject","status","response"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport auth from '../sevices/authService'\nimport history from '../router/history'\n\nfunction login(username, password) {\n  return new Promise((resolve, reject) => {\n    axios.post('http://localhost:8080/authenticate', {\n      name: username,\n      password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then(resp => resp.data)\n    .then(data => {\n      auth.login(data.data.accessToken)\n      return data\n    })\n    .then(data => resolve(data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction register(username, password) {\n  return new Promise((resolve, reject) => {\n    axios.post('http://localhost:8080/users', {\n      name: username,\n      password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then(resp => resp.data)\n    .then(data => {\n      auth.login(data.data.accessToken)\n      return data\n    })\n    .then(data => resolve(data))\n    .catch(error => { \n      reject(error) \n    })\n  })\n}\n\n\n//Advertisement\nfunction getAllAdvertisements() {\n  return new Promise((resolve, reject) => {\n    axios.get('http://localhost:8080/advertisements')\n         .then(resp => resp.data)\n         .then(data => resolve(data))\n         .catch(error => reject(error))\n  })\n}\n\nfunction getOwnAdvertisement(page) {\n  return new Promise((resolve, reject) => {\n    axios.get('http://localhost:8080/advertisements/me', {\n      query: { p: page },\n      headers: auth.getAuthHeader()\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => reject(error))\n  })\n}\n\nfunction getOneAdvertisement(id) {\n  return new Promise((resolve, reject) => {\n    axios.get(`http://localhost:8080/advertisements/${id}`, {\n      headers: auth.getAuthHeader()\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction deleteAd(_id) {\n  return new Promise((resolve, reject) => {\n    axios.delete('http://localhost:8080/advertisements', {\n      headers: auth.getAuthHeader(),\n      data: {\n        _id\n      }\n    })\n    .then(data => resolve(data.message))\n    .catch(error => reject(error))\n  })\n}\n\nfunction addAdvertisement(advertisement) {\n  return new Promise((resolve, reject) => {\n    axios.post('http://localhost:8080/advertisements', advertisement, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...auth.getAuthHeader()\n      }\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => reject(error))\n  })\n}\n\nfunction updateAdvertisement(advertisement) {\n  return new Promise((resolve, reject) => {\n    axios.put('http://localhost:8080/advertisements', advertisement, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...auth.getAuthHeader()\n      }\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => reject(error))\n  })\n}\n\n//User\nfunction getUserInfo() {\n  return new Promise((resolve, reject) => {\n    axios.get('http://localhost:8080/users/me', {\n      headers: auth.getAuthHeader()\n    })\n    .then(resp => { \n      resolve(resp.data) \n    })\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction logout() {\n  auth.logout()\n  history.push('/login')\n}\n\n//Projects\nfunction addProject(project) {\n  return new Promise((resolve, reject) => {\n    axios.post('http://localhost:8080/projects', project, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...auth.getAuthHeader()\n    }\n  })\n  .then(resp => resolve(resp.data))\n  .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction fetchOwnProjects() {\n  return new Promise((resolve, reject) => {\n    axios.get(\"http://localhost:8080/projects/me\", {\n      headers: auth.getAuthHeader()\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction addAdToProject(projectId, adId) {\n  return new Promise((resolve, reject) => {\n    axios.post(`http://localhost:8080/projects/${projectId}/addAdvertisement`, {\n      adId\n    }, \n    {\n      headers: {\n        'Content-Type': 'application/json',\n        ...auth.getAuthHeader()\n      }\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction removeAdFromProject(projectId, adId) {\n  return new Promise((resolve, reject) => {\n    axios.delete(`http://localhost:8080/projects/${projectId}/removeAdvertisement`, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...auth.getAuthHeader()\n      },\n      data: {\n        adId\n      }\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction handleResponse(error, reject) {\n  const { status } = error.response\n  if (status === 302) {\n    logout()\n  } else {\n    reject(error)\n  }\n}\n\nexport default {\n  login,\n  logout,\n  register,\n  getAllAdvertisements,\n  getOwnAdvertisement,\n  getOneAdvertisement,\n  deleteAd,\n  addAdvertisement,\n  removeAdFromProject,\n  updateAdvertisement,\n  addAdToProject,\n  fetchOwnProjects,\n  addProject,\n  getUserInfo\n}"]},"metadata":{},"sourceType":"module"}