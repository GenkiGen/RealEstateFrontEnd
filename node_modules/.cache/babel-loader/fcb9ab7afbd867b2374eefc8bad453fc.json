{"ast":null,"code":"import _classCallCheck from \"/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/src/components/Project/AddProject.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport service from '../../sevices/dataService';\n\nvar AddProject =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddProject, _React$Component);\n\n  function AddProject(props) {\n    var _this;\n\n    _classCallCheck(this, AddProject);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddProject).call(this, props));\n    _this.onAdd = _this.onAdd.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleError = _this.handleError.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      submiited: false,\n      success: false,\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(AddProject, [{\n    key: \"onAdd\",\n    value: function onAdd(event) {\n      var _this2 = this;\n\n      var userId = this.props.userId;\n      event.preventDefault();\n      var formData = new FormData(event.target);\n      var project = {\n        title: formData.get(\"title\"),\n        type: formData.get(\"type\"),\n        ownerName: formData.get(\"ownerName\"),\n        size: formData.get(\"size\"),\n        startYear: formData.get(\"startYear\"),\n        endYear: formData.get(\"endYear\"),\n        userId: userId\n      };\n      service.addProject(project).then(function (resp) {\n        _this2.setState({\n          submiited: true,\n          success: true,\n          error: null\n        });\n      }).catch(function (error) {\n        return _this2.handleError(error);\n      });\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(error) {\n      var _error$response = error.response,\n          data = _error$response.data,\n          status = _error$response.status;\n      console.log(data, status);\n\n      if (status === 301) {\n        this.setState({\n          submitted: true,\n          success: false,\n          error: data.message\n        });\n      } else {\n        this.setState({\n          submitted: true,\n          success: false,\n          error: \"Unknown error occurred\"\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"title has-text-primary is-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Add a project\"), React.createElement(\"form\", {\n        onSubmit: this.onAdd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"input is-primary\",\n        name: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Type\"), React.createElement(\"div\", {\n        className: \"select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        name: \"type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"House\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Apartment\"), React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Land\"))), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Owner's name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"input is-primary\",\n        name: \"ownerName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Project's size\"), React.createElement(\"input\", {\n        type: \"number\",\n        className: \"input is-primary\",\n        name: \"size\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Start year\"), React.createElement(\"input\", {\n        type: \"number\",\n        className: \"input is-primary\",\n        name: \"startYear\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"End year\"), React.createElement(\"input\", {\n        type: \"number\",\n        className: \"input is-primary\",\n        name: \"endYear\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        className: \"button is-primary is-rounded\",\n        value: \"Add Project\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AddProject;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userId: state.auth.user\n  };\n};\n\nexport default connect(mapStateToProps)(AddProject);","map":{"version":3,"sources":["/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/src/components/Project/AddProject.js"],"names":["React","connect","service","AddProject","props","onAdd","bind","handleError","state","submiited","success","error","event","userId","preventDefault","formData","FormData","target","project","title","get","type","ownerName","size","startYear","endYear","addProject","then","resp","setState","catch","response","data","status","console","log","submitted","message","Component","mapStateToProps","auth","user"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport service from '../../sevices/dataService'\n\nclass AddProject extends React.Component {\n  constructor(props) {\n    super(props)\n    this.onAdd = this.onAdd.bind(this)\n    this.handleError = this.handleError.bind(this)\n    this.state = {\n      submiited: false,\n      success: false,\n      error: null\n    }\n  }\n\n  onAdd(event) {\n    const { userId } = this.props\n    event.preventDefault()\n    const formData = new FormData(event.target)\n    const project = {\n      title: formData.get(\"title\"),\n      type: formData.get(\"type\"),\n      ownerName: formData.get(\"ownerName\"),\n      size: formData.get(\"size\"),\n      startYear: formData.get(\"startYear\"),\n      endYear: formData.get(\"endYear\"),\n      userId: userId\n    }\n    service.addProject(project)\n          .then(resp => {\n            this.setState({\n              submiited: true,\n              success: true,\n              error: null\n            })\n          })\n          .catch(error => this.handleError(error))\n  }\n\n  handleError(error) {\n    const { data, status } = error.response\n    console.log(data, status)\n    if (status === 301) {\n      this.setState({\n        submitted: true,\n        success: false,\n        error: data.message\n      })\n    } else {\n      this.setState({\n        submitted: true,\n        success: false,\n        error: \"Unknown error occurred\"\n      })\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <h1 className=\"title has-text-primary is-3\">Add a project</h1>\n        {\n\n        }\n        <form onSubmit={this.onAdd}>\n          <div className=\"field\">\n            <label className=\"label\">Title</label>\n            <input type=\"text\" className=\"input is-primary\" name=\"title\"/>\n          </div>\n  \n          <label className=\"label\">Type</label>\n          <div className=\"select\">\n            <select name=\"type\">\n              <option>House</option>\n              <option>Apartment</option>\n              <option>Land</option>\n            </select>\n          </div>\n  \n          <div className=\"field\">\n            <label className=\"label\">Owner's name</label>\n            <input type=\"text\" className=\"input is-primary\" name=\"ownerName\"/>\n          </div>\n  \n          <div className=\"field\">\n            <label className=\"label\">Project's size</label>\n            <input type=\"number\" className=\"input is-primary\" name=\"size\"/>\n          </div>\n  \n          <div className=\"field\">\n            <label className=\"label\">Start year</label>\n            <input type=\"number\" className=\"input is-primary\" name=\"startYear\"/>\n          </div>\n  \n          <div className=\"field\">\n            <label className=\"label\">End year</label>\n            <input type=\"number\" className=\"input is-primary\" name=\"endYear\"/>\n          </div>\n  \n          <input type=\"submit\" className=\"button is-primary is-rounded\" value=\"Add Project\"/>\n        </form>\n      </React.Fragment>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    userId: state.auth.user\n  }\n}\n\nexport default connect(mapStateToProps)(AddProject)"]},"metadata":{},"sourceType":"module"}