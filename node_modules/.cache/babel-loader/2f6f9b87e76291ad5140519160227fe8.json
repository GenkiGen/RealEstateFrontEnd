{"ast":null,"code":"import _objectSpread from \"/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios';\nimport auth from '../sevices/authService';\nimport history from '../router/history';\n\nfunction login(username, password) {\n  return new Promise(function (resolve, reject) {\n    axios.post('http://localhost:8080/authenticate', {\n      name: username,\n      password: password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (resp) {\n      return resp.data;\n    }).then(function (data) {\n      auth.login(data.data.accessToken);\n      return data;\n    }).then(function (data) {\n      return resolve(data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction register(username, password) {\n  return new Promise(function (resolve, reject) {\n    axios.post('http://localhost:8080/users', {\n      name: username,\n      password: password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (resp) {\n      return resp.data;\n    }).then(function (data) {\n      auth.login(data.data.accessToken);\n      return data;\n    }).then(function (data) {\n      return resolve(data);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n} //Advertisement\n\n\nfunction getAllAdvertisements(page, sort, filter) {\n  var filterObject = filter ? {\n    filter: filter.filter,\n    from: filter.from,\n    to: filter.to\n  } : {};\n  var sortObject = sort ? {\n    sort: sort.sort,\n    order: sort.order\n  } : {};\n  return new Promise(function (resolve, reject) {\n    axios.get('http://localhost:8080/advertisements', {\n      params: _objectSpread({\n        p: page\n      }, filterObject, sortObject)\n    }).then(function (resp) {\n      return resp.data;\n    }).then(function (data) {\n      return resolve(data);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n}\n\nfunction getOwnAdvertisement(page) {\n  return new Promise(function (resolve, reject) {\n    axios.get('http://localhost:8080/advertisements/me', {\n      params: {\n        p: page\n      },\n      headers: auth.getAuthHeader()\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n}\n\nfunction getOneAdvertisement(id) {\n  return new Promise(function (resolve, reject) {\n    axios.get(\"http://localhost:8080/advertisements/\".concat(id), {\n      headers: auth.getAuthHeader()\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction deleteAd(_id) {\n  return new Promise(function (resolve, reject) {\n    axios.delete('http://localhost:8080/advertisements', {\n      headers: auth.getAuthHeader(),\n      data: {\n        _id: _id\n      }\n    }).then(function (data) {\n      return resolve(data.message);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n}\n\nfunction addAdvertisement(advertisement) {\n  return new Promise(function (resolve, reject) {\n    axios.post('http://localhost:8080/advertisements', advertisement, {\n      headers: _objectSpread({\n        'Content-Type': 'application/json'\n      }, auth.getAuthHeader())\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n}\n\nfunction updateAdvertisement(advertisement) {\n  return new Promise(function (resolve, reject) {\n    axios.put('http://localhost:8080/advertisements', advertisement, {\n      headers: _objectSpread({\n        'Content-Type': 'application/json'\n      }, auth.getAuthHeader())\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return reject(error);\n    });\n  });\n} //User\n\n\nfunction getUserInfo() {\n  return new Promise(function (resolve, reject) {\n    axios.get('http://localhost:8080/users/me', {\n      headers: auth.getAuthHeader()\n    }).then(function (resp) {\n      resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction logout() {\n  auth.logout();\n  history.push('/login');\n} //Projects\n\n\nfunction addProject(project) {\n  return new Promise(function (resolve, reject) {\n    axios.post('http://localhost:8080/projects', project, {\n      headers: _objectSpread({\n        \"Content-Type\": \"application/json\"\n      }, auth.getAuthHeader())\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction fetchOwnProjects() {\n  return new Promise(function (resolve, reject) {\n    axios.get(\"http://localhost:8080/projects/me\", {\n      headers: auth.getAuthHeader()\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction addAdToProject(projectId, adId) {\n  return new Promise(function (resolve, reject) {\n    axios.post(\"http://localhost:8080/projects/\".concat(projectId, \"/addAdvertisement\"), {\n      adId: adId\n    }, {\n      headers: _objectSpread({\n        'Content-Type': 'application/json'\n      }, auth.getAuthHeader())\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction removeAdFromProject(projectId, adId) {\n  return new Promise(function (resolve, reject) {\n    axios.delete(\"http://localhost:8080/projects/\".concat(projectId, \"/removeAdvertisement\"), {\n      headers: _objectSpread({\n        'Content-Type': 'application/json'\n      }, auth.getAuthHeader()),\n      data: {\n        adId: adId\n      }\n    }).then(function (resp) {\n      return resolve(resp.data);\n    }).catch(function (error) {\n      return handleResponse(error, reject);\n    });\n  });\n}\n\nfunction handleResponse(error, reject) {\n  var status = error.response.status;\n\n  if (status === 302) {\n    logout();\n  } else {\n    reject(error);\n  }\n}\n\nexport default {\n  login: login,\n  logout: logout,\n  register: register,\n  getAllAdvertisements: getAllAdvertisements,\n  getOwnAdvertisement: getOwnAdvertisement,\n  getOneAdvertisement: getOneAdvertisement,\n  deleteAd: deleteAd,\n  addAdvertisement: addAdvertisement,\n  removeAdFromProject: removeAdFromProject,\n  updateAdvertisement: updateAdvertisement,\n  addAdToProject: addAdToProject,\n  fetchOwnProjects: fetchOwnProjects,\n  addProject: addProject,\n  getUserInfo: getUserInfo\n};","map":{"version":3,"sources":["/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/src/sevices/dataService.js"],"names":["axios","auth","history","login","username","password","Promise","resolve","reject","post","name","headers","then","resp","data","accessToken","catch","error","handleResponse","register","getAllAdvertisements","page","sort","filter","filterObject","from","to","sortObject","order","get","params","p","getOwnAdvertisement","getAuthHeader","getOneAdvertisement","id","deleteAd","_id","delete","message","addAdvertisement","advertisement","updateAdvertisement","put","getUserInfo","logout","push","addProject","project","fetchOwnProjects","addAdToProject","projectId","adId","removeAdFromProject","status","response"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport auth from '../sevices/authService'\nimport history from '../router/history'\n\nfunction login(username, password) {\n  return new Promise((resolve, reject) => {\n    axios.post('http://localhost:8080/authenticate', {\n      name: username,\n      password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then(resp => resp.data)\n    .then(data => {\n      auth.login(data.data.accessToken)\n      return data\n    })\n    .then(data => resolve(data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction register(username, password) {\n  return new Promise((resolve, reject) => {\n    axios.post('http://localhost:8080/users', {\n      name: username,\n      password\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then(resp => resp.data)\n    .then(data => {\n      auth.login(data.data.accessToken)\n      return data\n    })\n    .then(data => resolve(data))\n    .catch(error => { \n      reject(error) \n    })\n  })\n}\n\n\n//Advertisement\nfunction getAllAdvertisements(page, sort, filter) {\n  const filterObject = filter ? {\n    filter: filter.filter,\n    from: filter.from,\n    to: filter.to\n  } : {}\n  const sortObject = sort ? {\n    sort: sort.sort,\n    order: sort.order\n  } : {}\n  return new Promise((resolve, reject) => {\n    axios.get('http://localhost:8080/advertisements', {\n      params: { \n        p: page,\n        ...filterObject,\n        ...sortObject\n      }\n    })\n         .then(resp => resp.data)\n         .then(data => resolve(data))\n         .catch(error => reject(error))\n  })\n}\n\nfunction getOwnAdvertisement(page) {\n  return new Promise((resolve, reject) => {\n    axios.get('http://localhost:8080/advertisements/me', {\n      params: { p: page },\n      headers: auth.getAuthHeader()\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => reject(error))\n  })\n}\n\nfunction getOneAdvertisement(id) {\n  return new Promise((resolve, reject) => {\n    axios.get(`http://localhost:8080/advertisements/${id}`, {\n      headers: auth.getAuthHeader()\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction deleteAd(_id) {\n  return new Promise((resolve, reject) => {\n    axios.delete('http://localhost:8080/advertisements', {\n      headers: auth.getAuthHeader(),\n      data: {\n        _id\n      }\n    })\n    .then(data => resolve(data.message))\n    .catch(error => reject(error))\n  })\n}\n\nfunction addAdvertisement(advertisement) {\n  return new Promise((resolve, reject) => {\n    axios.post('http://localhost:8080/advertisements', advertisement, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...auth.getAuthHeader()\n      }\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => reject(error))\n  })\n}\n\nfunction updateAdvertisement(advertisement) {\n  return new Promise((resolve, reject) => {\n    axios.put('http://localhost:8080/advertisements', advertisement, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...auth.getAuthHeader()\n      }\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => reject(error))\n  })\n}\n\n//User\nfunction getUserInfo() {\n  return new Promise((resolve, reject) => {\n    axios.get('http://localhost:8080/users/me', {\n      headers: auth.getAuthHeader()\n    })\n    .then(resp => { \n      resolve(resp.data) \n    })\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction logout() {\n  auth.logout()\n  history.push('/login')\n}\n\n//Projects\nfunction addProject(project) {\n  return new Promise((resolve, reject) => {\n    axios.post('http://localhost:8080/projects', project, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...auth.getAuthHeader()\n    }\n  })\n  .then(resp => resolve(resp.data))\n  .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction fetchOwnProjects() {\n  return new Promise((resolve, reject) => {\n    axios.get(\"http://localhost:8080/projects/me\", {\n      headers: auth.getAuthHeader()\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction addAdToProject(projectId, adId) {\n  return new Promise((resolve, reject) => {\n    axios.post(`http://localhost:8080/projects/${projectId}/addAdvertisement`, {\n      adId\n    }, \n    {\n      headers: {\n        'Content-Type': 'application/json',\n        ...auth.getAuthHeader()\n      }\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction removeAdFromProject(projectId, adId) {\n  return new Promise((resolve, reject) => {\n    axios.delete(`http://localhost:8080/projects/${projectId}/removeAdvertisement`, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...auth.getAuthHeader()\n      },\n      data: {\n        adId\n      }\n    })\n    .then(resp => resolve(resp.data))\n    .catch(error => handleResponse(error, reject))\n  })\n}\n\nfunction handleResponse(error, reject) {\n  const { status } = error.response\n  if (status === 302) {\n    logout()\n  } else {\n    reject(error)\n  }\n}\n\nexport default {\n  login,\n  logout,\n  register,\n  getAllAdvertisements,\n  getOwnAdvertisement,\n  getOneAdvertisement,\n  deleteAd,\n  addAdvertisement,\n  removeAdFromProject,\n  updateAdvertisement,\n  addAdToProject,\n  fetchOwnProjects,\n  addProject,\n  getUserInfo\n}"]},"metadata":{},"sourceType":"module"}