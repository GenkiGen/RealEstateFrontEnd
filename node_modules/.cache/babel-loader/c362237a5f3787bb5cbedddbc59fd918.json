{"ast":null,"code":"import { LOGIN_START, LOGIN_FAILED, LOGIN_SUCCESS, LOGOUT } from '../constants/action-types';\nimport service from '../../sevices/dataService';\nimport history from '../../router/history';\n\nfunction loginStart() {\n  return {\n    type: LOGIN_START\n  };\n}\n\nfunction loginFailed() {\n  return {\n    type: LOGIN_FAILED\n  };\n}\n\nfunction loginSuccess(payload) {\n  return {\n    type: LOGIN_SUCCESS,\n    payload: payload\n  };\n}\n\nexport function logout() {\n  function _logout() {\n    return {\n      type: LOGOUT\n    };\n  }\n\n  return function (dispatch) {\n    service.logout();\n    dispatch(_logout());\n  };\n}\nexport function login(username, password) {\n  return function (dispatch) {\n    dispatch(loginStart());\n    service.login(username, password).then(function (success) {\n      dispatch(loginSuccess({\n        accessToken: success.data.accessToken,\n        userId: success.data.userId\n      }));\n      history.push('/');\n    }).catch(function (error) {\n      return dispatch(loginFailed({\n        error: error\n      }));\n    });\n  };\n}","map":{"version":3,"sources":["/home/phat/Desktop/HTML/Learning Node/RealEstate/frontend/src/redux/actions/index.js"],"names":["LOGIN_START","LOGIN_FAILED","LOGIN_SUCCESS","LOGOUT","service","history","loginStart","type","loginFailed","loginSuccess","payload","logout","_logout","dispatch","login","username","password","then","success","accessToken","data","userId","push","catch","error"],"mappings":"AAAA,SACEA,WADF,EAEEC,YAFF,EAGEC,aAHF,EAIEC,MAJF,QAKO,2BALP;AAMA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,OAAP,MAAoB,sBAApB;;AAEA,SAASC,UAAT,GAAsB;AACpB,SAAO;AACLC,IAAAA,IAAI,EAAEP;AADD,GAAP;AAGD;;AAED,SAASQ,WAAT,GAAuB;AACrB,SAAO;AACLD,IAAAA,IAAI,EAAEN;AADD,GAAP;AAGD;;AAED,SAASQ,YAAT,CAAsBC,OAAtB,EAA+B;AAC7B,SAAO;AACLH,IAAAA,IAAI,EAAEL,aADD;AAELQ,IAAAA,OAAO,EAAPA;AAFK,GAAP;AAID;;AAED,OAAO,SAASC,MAAT,GAAkB;AACvB,WAASC,OAAT,GAAmB;AACjB,WAAO;AACLL,MAAAA,IAAI,EAAEJ;AADD,KAAP;AAGD;;AAED,SAAO,UAASU,QAAT,EAAmB;AACxBT,IAAAA,OAAO,CAACO,MAAR;AACAE,IAAAA,QAAQ,CAACD,OAAO,EAAR,CAAR;AACD,GAHD;AAID;AAED,OAAO,SAASE,KAAT,CAAeC,QAAf,EAAyBC,QAAzB,EAAmC;AACxC,SAAO,UAASH,QAAT,EAAmB;AACxBA,IAAAA,QAAQ,CAACP,UAAU,EAAX,CAAR;AACAF,IAAAA,OAAO,CAACU,KAAR,CAAcC,QAAd,EAAwBC,QAAxB,EACQC,IADR,CACa,UAAAC,OAAO,EAAI;AACdL,MAAAA,QAAQ,CAACJ,YAAY,CAAC;AACpBU,QAAAA,WAAW,EAAED,OAAO,CAACE,IAAR,CAAaD,WADN;AAEpBE,QAAAA,MAAM,EAAEH,OAAO,CAACE,IAAR,CAAaC;AAFD,OAAD,CAAb,CAAR;AAIAhB,MAAAA,OAAO,CAACiB,IAAR,CAAa,GAAb;AACD,KAPT,EAQQC,KARR,CAQc,UAAAC,KAAK;AAAA,aAAIX,QAAQ,CAACL,WAAW,CAAC;AAAEgB,QAAAA,KAAK,EAALA;AAAF,OAAD,CAAZ,CAAZ;AAAA,KARnB;AASD,GAXD;AAYD","sourcesContent":["import {\n  LOGIN_START,\n  LOGIN_FAILED,\n  LOGIN_SUCCESS,\n  LOGOUT\n} from '../constants/action-types'\nimport service from '../../sevices/dataService'\nimport history from '../../router/history'\n\nfunction loginStart() {\n  return {\n    type: LOGIN_START\n  }\n}\n\nfunction loginFailed() {\n  return {\n    type: LOGIN_FAILED\n  }\n}\n\nfunction loginSuccess(payload) {\n  return {\n    type: LOGIN_SUCCESS,\n    payload\n  }\n}\n\nexport function logout() {\n  function _logout() {\n    return {\n      type: LOGOUT\n    }\n  }\n\n  return function(dispatch) {\n    service.logout()\n    dispatch(_logout())\n  }\n}\n\nexport function login(username, password) {\n  return function(dispatch) {\n    dispatch(loginStart())\n    service.login(username, password)\n           .then(success => {\n              dispatch(loginSuccess({ \n                accessToken: success.data.accessToken,\n                userId: success.data.userId \n              })) \n              history.push('/')\n            })\n           .catch(error => dispatch(loginFailed({ error })))\n  }\n}"]},"metadata":{},"sourceType":"module"}